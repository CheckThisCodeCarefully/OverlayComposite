<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/aaronjsutton/Overlay"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Layers.html">Layers</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/OverlayRenderer.html">OverlayRenderer</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/OverlayError.html">OverlayError</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/OverlayError/ErrorType.html">– ErrorType</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><img src="https://github.com/aaronjsutton/Overlay/blob/master/docs/Images/Logo.png?raw=true" alt="Logo"></p>

<p><a href="https://travis-ci.org/aaronjsutton/Overlay"><img src="https://travis-ci.org/aaronjsutton/Overlay.svg?branch=master" alt="Build Status"></a></p>

<p>An asynchronous, multithreaded, image compositing framework written in Swift.</p>
<h2 id='installation' class='heading'>Installation</h2>
<h3 id='a-href-http-cocoapods-org-cocoapods-a' class='heading'><a href="http://cocoapods.org">CocoaPods</a></h3>

<p>Add Overlay to your Podfile:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'Overlay'</span>
</code></pre>

<p>And run <code>pod install</code></p>
<h2 id='usage' class='heading'>Usage</h2>
<h3 id='quick-start' class='heading'>Quick Start</h3>
<h4 id='creating-layers' class='heading'>Creating Layers</h4>

<p>Overlay works using the concept of <em>layered images</em>. Each layer represents an individual image that can then be added atop another layer. You can think of this like layers in Photoshop, or similar image editor.</p>

<p>For example, take the following model:</p>

<p><img src="https://github.com/aaronjsutton/Overlay/blob/master/docs/Images/Example.png?raw=true" alt="Layer 0"></p>

<ul>
<li>Layer 0: A large blue square</li>
<li>Layer 1: A medium orange triangle</li>
<li>Layer 2: A small green polygon</li>
</ul>

<p><em>Technical Note:</em> For this guide, we will assume that these images are named <q>Square</q>, <q>Triangle</q>, and <q>Polygon</q> in our app&rsquo;s Asset Catalog, and they are all formatted as PNG images with a transparent background.</p>

<p>A collection of images organized into layers is represented in code using the <code><a href="Classes/Layers.html">Layers</a></code> class.</p>
<pre class="highlight swift"><code><span class="c1">// Create a dictionary of all the images and layers we want to create.</span>
<span class="c1">// This will then be passed to Layers</span>
<span class="k">let</span> <span class="nv">layerDictionary</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">:</span> <span class="kt">String</span><span class="p">]</span> <span class="o">=</span>
<span class="p">[</span>
  <span class="mi">0</span><span class="p">:</span> <span class="s">"Square"</span><span class="p">,</span>
  <span class="mi">1</span><span class="p">:</span> <span class="s">"Triangle"</span><span class="p">,</span>
  <span class="mi">2</span><span class="p">:</span> <span class="s">"Polygon"</span>
<span class="p">]</span>

<span class="c1">// Create the new layers object.</span>
<span class="k">guard</span> <span class="k">let</span> <span class="nv">layers</span> <span class="o">=</span> <span class="k">try</span><span class="p">?</span> <span class="kt">Layers</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="n">layerDictionary</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">// Some error occurred</span>
  <span class="k">return</span>
<span class="p">}</span>
</code></pre>

<p>Alternatively, you could create a dictionary using UIImage objects:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">layerDictionary</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">:</span> <span class="kt">UIImage</span><span class="p">]</span>
</code></pre>

<p>And pass it to <code><a href="Classes/Layers.html#/s:7Overlay6LayersCACs10DictionaryVySiSo7UIImageCG4with_tKcfc">Layers.init(with:)</a></code></p>

<p><em>Now we have a layered image represented in Swift!</em></p>
<h4 id='rendering-layers' class='heading'>Rendering Layers</h4>

<p>Of course, we want to be able to use our new composite image. To do that we use <code><a href="Classes/OverlayRenderer.html">OverlayRenderer</a></code></p>
<pre class="highlight swift"><code><span class="c1">// Create a new renderer</span>
<span class="k">let</span> <span class="nv">renderer</span> <span class="o">=</span> <span class="kt">OverlayRenderer</span><span class="p">()</span>

<span class="n">renderer</span><span class="o">.</span><span class="nf">composite</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="n">layers</span><span class="p">)</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
  <span class="c1">// Here we can access the completed render</span>
<span class="p">}</span>
</code></pre>

<p>The result:</p>

<p><img src="https://github.com/aaronjsutton/Overlay/blob/master/docs/Images/ExampleComposite.png?raw=true" alt="Result"></p>

<p>To see this in action, check u</p>
<h4 id='layer-operations' class='heading'>Layer Operations</h4>

<p>You can insert, append, and remove layers from a <code><a href="Classes/Layers.html">Layers</a></code> object.
See the <a href="https://docs.aaronjsutton.com/overlay/Classes/Layers.html">Layers Guide</a></p>
<h3 id='a-href-https-docs-aaronjsutton-com-overlay-api-documentation-a' class='heading'><a href="https://docs.aaronjsutton.com/overlay/">API Documentation</a></h3>
<h2 id='contributing' class='heading'>Contributing</h2>

<p>If you wish to contribute to Overlay, create a new branch, implement your feature or fix, and then submit a pull request.</p>

          </section>
        </section>
        <section id="footer">
          <p>Copyright © 2017 Aaron Sutton. All rights reserved.</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.4</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
